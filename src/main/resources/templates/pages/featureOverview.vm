<!DOCTYPE html>
<html>
<head>
<title>Cucumber-JVM Html Reports - Feature Overview</title>

#include("/templates/headers.html")

#include("/templates/tableSorter.vm")
<script src="js/highcharts.js"></script>
<script src="js/highcharts-3d.js"></script>

</head>
<body>

    #parse("/templates/topMenu.vm")

    #set($summary_key = "Feature")
    #set($summary_description = "The following graph shows passing and failing statistics for features in this build.")
    #parse("/templates/summaryOverview.vm")

    <div class="container_12">
        <script>
		$(function () {
		    $('#steps_chart').highcharts({
		        chart: {
		            type: 'pie',
		            options3d: {
		                enabled: true,
		                alpha: 45,
		                beta: 0
		            }
		        },
		        title: {
		            text: 'Steps'
		        },
		        plotOptions: {
		            pie: {
		                allowPointSelect: true,
		                cursor: 'pointer',
		                depth: 35,
		                dataLabels: {
		                    enabled: true,
		                    format: '<b>{point.name}</b>: {point.percentage:.2f} %'
		                }
		            }
		        },
		        series: [{
		            type: 'pie',
		            name: 'Steps',
		            data: [
		                {
                            selected: true,
 		                    sliced: true,
 		                    name: 'Passed',
		                    color: "#00A000",
		                    y: $all_steps_passes
		                },
		                {
		                    name: 'Failed',
		                    color: "#FF0000",
		                    y: $all_steps_failed
		                },
		                {
		                    name: 'Skipped',
		                    color: "#88AAFF",
		                    y: $all_steps_skipped
		                },
		                {
		                    name: 'Pending',
		                    color: "#FBB907",
		                    y: $all_steps_pending
		                },
		                {
		                    name: 'Undefined',
		                    color: "#FBB957",
		                    y: $all_steps_undefined
		                },
		                {
		                    name: 'Missing',
		                    color: "#FBB9A7",
		                    y: $all_steps_missing
		                }
		            ]
		        }]
		    });

            $('#scenarios_chart').highcharts({
		        chart: {
		            type: 'pie',
		            options3d: {
		                enabled: true,
		                alpha: 45
		            }
		        },
                title: {
                    text: 'Scenarios'
                },
		        plotOptions: {
		            pie: {
		                innerSize: 150,
		                depth: 35,
                        allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                            enabled: true,
	                        format: '<b>{point.name}</b>: {point.percentage:.2f} %'
                        }
		            }
		        },
                series: [{
                    name: 'Scenarios',
                    data: [
                        {
                            name: 'Passed',
                            y: $all_scenarios_passed,
                            color: "#00A000"
                        },
                        {

                            selected: true,
                            sliced: true,
                            name: 'Failed',
                            y: $all_scenarios_failed,
                            color: "#FF0000"
                        }
                    ]
                }]
            });
        });
        </script>
        <div>
            <table id="js-charts">
                <tr>
                    <td><div style="width:480px" id="steps_chart"></div></td>
                    <td><div style="width:480px" id="scenarios_chart"></div></td>
                </tr>
            </table>
        </div>

    <div>
    <h2 id="feature-statistics-title">Feature Statistics</h2>
    <table id="tablesorter" class="stats-table">
        #set($table_key = "Feature")
        #parse("/templates/tableHeader.vm")

        <tbody>
        #foreach($feature in $all_features)
            #set($featureName = $feature.getRawName())

            <tr>
                <td class="tagname"><a id="stats-$featureName" href="$feature.getReportFileName()">$featureName</a></td>
                #if($parallel)
                <td id="device">$feature.getDeviceName()</td>
                #end
                <td id="stats-number-scenarios-$featureName">$feature.getScenarios()</td>
                <td id="stats-number-scenarios-passed-$featureName">$feature.getPassedScenarios()</td>
                <td id="stats-number-scenarios-failed-$featureName">$feature.getFailedScenarios()</td>
                <td id="stats-number-steps-$featureName">$feature.getNumberOfSteps()</td>
                <td id="stats-number-steps-passed-$featureName">$feature.getNumberOfPasses()</td>
                <td id="stats-number-steps-failed-$featureName"    #if($feature.getNumberOfFailures() > 0)  class="failed" #end>$feature.getNumberOfFailures()</td>
                <td id="stats-number-steps-skipped-$featureName"   #if($feature.getNumberOfSkipped() > 0)   class="skipped" #end>$feature.getNumberOfSkipped()</td>
                <td id="stats-number-steps-pending-$featureName"   #if($feature.getNumberOfPending() > 0)   class="pending" #end>$feature.getNumberOfPending()</td>
                <td id="stats-number-steps-undefined-$featureName" #if($feature.getNumberOfUndefined() > 0) class="undefined" #end>$feature.getNumberOfUndefined()</td>
                <td id="stats-number-steps-missing-$featureName"   #if($feature.getNumberOfMissing() > 0)   class="missing" #end>$feature.getNumberOfMissing()</td>
                <td id="stats-duration-$featureName" class="duration">$feature.getTotalDuration()</td>
                <td id="stats-status-$featureName" class="$feature.getStatus().getRawName()">$feature.getStatus().getLabel()</td>
            </tr>
        #end
        </tbody>
        <tr class="summary">
            <th id="stats-total-features">$all_features.size()</th>
            #if($parallel)
            <th id="stats-total-features">-</th>
            #end
            <th id="stats-total-scenarios">$all_scenarios</th>
            <th id="stats-total-scenarios-passed">$all_scenarios_passed</th>
            <th id="stats-total-scenarios-failed">$all_scenarios_failed</th>
            <th id="stats-total-steps">$all_steps.size()</th>
            <th id="stats-total-steps-passed">$all_steps_passes</th>
            <th id="stats-total-steps-failed">$all_steps_failed</th>
            <th id="stats-total-steps-skipped">$all_steps_skipped</th>
            <th id="stats-total-steps-pending">$all_steps_pending</th>
            <th id="stats-total-steps-undefined">$all_steps_undefined</th>
            <th id="stats-total-steps-missing">$all_steps_missing</th>
            <th id="stats-total-duration" class="duration">$all_durations</th>
            <th id="stats-total-totals">Totals</th>
        </tr>
    </table>
    </div>

</div>


#parse("/templates/footer.vm")                        

</body>
</html>
